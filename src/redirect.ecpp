<%include>global.ecpp</%include>
<%cpp>
  for (zim::Files::iterator it = files.begin(); it != files.end(); ++it)
  {
    if (it->second.getFileheader().hasMainPage())
    {
      zim::Dirent dirent = it->second.getDirent(it->second.getFileheader().getMainPage());
      return reply.redirect(dirent.getUrl().toUtf8());
    }
  }

  return DECLINED;
</%cpp>
